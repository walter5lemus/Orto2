{% extends 'base/base_consultar.html' %}

{% block title %}
Diagnóstico General
{% endblock %}

{% block header %}
<div class="mensaje" id="mensaje"></div>
<h1><center>Diagnóstico General</center></h1>
{% endblock %}


{% block content %}
<form method="post">
	{% csrf_token %}

<div class="row">
	<div class="col-md-6 col-md-offset-1">
		<div class="form-group">
			{{form.fichas}}
		</div>
	</div>
	</div>

	<div class="col-md-8 col-md-offset-2">
		<div class="form-group">
			<div class="col-md-6">
			<label for="codigo">N° de Expediente </label>	
			<input id="codigo" class="form-control" type="text" disabled="True">
			<br>
			</div>
			<div class="col-md-6">
			<label for="ficha">N° de Ficha</label>	
			<input id="ficha" class="form-control" type="text" disabled="True">
			</div>
		</div>
	</div>


<div class="col-md-10 col-md-offset-1">
  <div class="form-group">

 	<br>
 	<div class="panel panel-success">
  	  <div class="panel-heading">
   	 	<h3 class="panel-title"></h3>
  	  </div>

  	  <div class="panel-body">

		<div class="col-md-8 col-md-offset-2">
			<div class="form-group">
				<br><br>
				<label for="{{form.diagnostico_ortodontico_general.name}}">{{form.diagnostico_ortodontico_general.label}}</label>
				{{form.diagnostico_ortodontico_general}}
			</div>
		</div>


		<div class="col-md-8 col-md-offset-2">
			<div class="form-group">
				<br>
				<label for="{{form.problemas.name}}">
				{{form.problemas.label}}</label>
				{{form.problemas}}
			</div>
		</div>


		<div class="col-md-8 col-md-offset-2">
			<div class="form-group">
				<br>
				<label for="{{form.objetivos.name}}">
				{{form.objetivos.label}}</label>
				{{form.objetivos}}
			</div>
		</div>


		<div class="col-md-6 col-md-offset-3">
			<div class="form-group">
				<br>
				<label for="{{form.tratamiento.name}}">
				{{form.tratamiento.label}}</label>
				{{form.tratamiento}}
			</div>
		</div>


		<div class="col-md-8 col-md-offset-2">
			<div class="form-group">
				<br>
				<label for="{{form.descripcion_tratamiento.name}}">
				{{form.descripcion_tratamiento.label}}</label>
				{{form.descripcion_tratamiento}}
			</div>
			<br>
		</div>

	  </div>
	</div>

  </div>
 </div>	




	<div class="col-md-8 col-md-offset-2">
		<div class="form-group">
			
			<br>
			<div class="col-md-3 col-md-offset-2">
			  <a href="/analisis_denticion_mixta/moyerssuperior/consultar/{{codi}}/{{num}}" class="btn btn-default btn-block">Regresar</a>
			</div> 

			<div class="col-md-3 col-md-offset-1">
			  <center><button type="submit" class="btn btn-success btn-block">Siguiente</button></center>
			</div>
		
		</div>
		<br><br>
	</div>



	<!-- Barra de progreso -->
		<br><br>
		<div class="col-md-10 col-md-offset-1">
		<div class="progress">
  			<div class="progress-bar progress-bar-success" style="width: 96%;"></div>
		</div>
		</div>


<script>

	$('#{{form.fichas.auto_id}}').val({{fichas}});

	$('#codigo').val("{{codi}}");
	$('#ficha').val("{{num}}");

	if ({{completada}}==0){
	$("#mensaje").append('<div class="col-md-4 col-md-offset-8"><div class="alert alert-danger alert-danger"><strong><center> ¡FICHA INCOMPLETA!</center></strong></div></div>')
	}else{
		if ({{completada}}==1){
			$("#mensaje").append('<div class="col-md-4 col-md-offset-8"><div class="alert alert-success alert-success"><strong><center> ¡FICHA COMPLETA!</center></strong></div></div>')
		}else{
			if ({{completada}}==2){
				$("#mensaje").append('<div class="col-md-4 col-md-offset-8"><div class="alert alert-info alert-info"><strong><center> ¡FICHA RETIRADA!</center></strong></div></div>')
			}else{
				if ({{completada}}==3){
					$("#mensaje").append('<div class="col-md-4 col-md-offset-8"><div class="alert alert-warning alert-warning"><strong><center> ¡FICHA CADUCADA!</center></strong></div></div>')
				}
				
			}
		}
	}	

</script>

	</form>

	{% for elemento in incompletos %}
			<script type="text/javascript">
				//entra si es un numero
				switch({{elemento}}){
					case 0:
						$('#datos_generales').bind('click', false);
 						$('#datos_generales').css({'color':'grey'});
						break;
					case -1:
						$('#motivo_consultas').bind('click', false);
 						$('#motivo_consultas').css({'color':'grey'});
						break;
					case -2:
						$('#estado_general').bind('click', false);
 						$('#estado_general').css({'color':'grey'});
						break;
					case -3:
						$('#tipo_perfil').bind('click', false);
 						$('#tipo_perfil').css({'color':'grey'});
						break;
					case -4:
						$('#denticion1').bind('click', false);
 						$('#denticion1').css({'color':'grey'});
						break;
					case -5:
						$('#denticion2').bind('click', false);
 						$('#denticion2').css({'color':'grey'});
						break;
					case -6:
						$('#sagitales').bind('click', false);
 						$('#sagitales').css({'color':'grey'});
						break;
					case -7:
						$('#aspectos_articulares').bind('click', false);
 						$('#aspectos_articulares').css({'color':'grey'});
						break;
					case -8:
						$('#asp_mandibular').bind('click', false);
 						$('#asp_mandibular').css({'color':'grey'});
						break;
					case -9:
						$('#otros_aspectos').bind('click', false);
 						$('#otros_aspectos').css({'color':'grey'});
 						break;
					case -10:
						$('#otros_hallazgos').bind('click', false);
 						$('#otros_hallazgos').css({'color':'grey'});
						break;
					case -11:
						$('#analisis_cefalometrico').bind('click', false);
 						$('#analisis_cefalometrico').css({'color':'grey'});
						break;
					case -12:
						$('#diag_cefalo').bind('click', false);
 						$('#diag_cefalo').css({'color':'grey'});
						break;
					case -13:
						$('#analisis_nance').bind('click', false);
 						$('#analisis_nance').css({'color':'grey'});
						break;
					case -14:
						$('#moyers_inferior').bind('click', false);
 						$('#moyers_inferior').css({'color':'grey'});
						break;
					case -15:
						$('#moyers_superior').bind('click', false);
 						$('#moyers_superior').css({'color':'grey'});
						break;
					case -16:
						$('#diag_general').bind('click', false);
 						$('#diag_general').css({'color':'grey'});
						break;
				}

			</script>
	{% endfor %}
	{% endblock %}